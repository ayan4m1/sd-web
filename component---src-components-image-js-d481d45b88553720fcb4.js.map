{"version":3,"file":"component---src-components-image-js-d481d45b88553720fcb4.js","mappings":"8RASe,SAASA,GAAM,KAAEC,IAC9B,MACEC,UACEC,kBAAkB,KAChBC,EACAC,4BAA4B,KAC1BC,EAD0B,MAE1BC,EAF0B,QAG1BC,EACAC,8BAA8B,OAAEC,EAAF,SAAUC,MAI9CC,SAAWC,MAAOC,IAChBb,EAUJ,OACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAKc,MAAM,yBAAyBC,YAAaN,KACjD,UAAC,IAAD,CAAWO,UAAU,OAArB,WACE,SAAC,IAAD,WACE,SAAC,IAAD,CAAKC,GAAI,GAAT,UACE,2BACE,SAAC,EAAAC,KAAD,CAAMC,GAAG,UAAT,oBADF,MAC4ChB,UAIhD,UAAC,IAAD,YACE,UAAC,IAAD,CAAKc,GAAI,GAAIG,GAAI,EAAjB,WACE,mCACA,SAAC,EAAAC,EAAD,CAAaC,MAtBJnB,KAAD,eAChBA,GACIoB,EAAAA,EAAAA,GAAQ,UACNV,EAAOW,MAAMF,GAAUA,EAAMG,eAAkB,GAAEtB,iBAD3C,iBACN,EACIuB,uBAFE,aACN,EACqBC,iBAEvB,CAAC,CANW,EAsBYC,CAAUzB,SAEhC,UAAC,IAAD,CAAKc,GAAI,GAAIG,GAAI,EAAjB,WACE,oCACA,gCAAaX,KACb,wCACA,UAAC,IAAD,CAAOoB,SAAO,EAAd,WACE,4BACE,2BACE,eAAIC,MAAO,CAAEC,MAAO,OAApB,mBACA,wCAGJ,8BACE,2BACE,kCACA,wBAAK1B,QAEP,2BACE,mCACA,wBAAKC,OAENI,IACC,2BACE,sCACA,wBAAKA,EAASsB,QAAQ,eAK9B,qCACA,cAAGlB,MAAOP,EAAV,UACG0B,EAAAA,EAAAA,IAAoBC,EAAAA,EAAAA,IAASC,EAAAA,EAAAA,GAAS5B,IAAW,GAAI,CACpD6B,WAAW,iBAQ1B,CAEDrC,EAAMsC,UAAY,CAChBrC,KAAMsC,IAAAA,OAAAA,W","sources":["webpack://sd-web/./src/components/image.js"],"sourcesContent":["import { parseISO, formatDistanceToNow, addHours } from 'date-fns';\r\nimport { graphql, Link } from 'gatsby';\r\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\r\nimport PropTypes from 'prop-types';\r\nimport { Container, Table, Row, Col } from 'react-bootstrap';\r\n\r\nimport Layout from './layout';\r\nimport SEO from './seo';\r\n\r\nexport default function Image({ data }) {\r\n  const {\r\n    postgres: {\r\n      imageBoostByUuid: {\r\n        uuid,\r\n        imageResultByImageResultId: {\r\n          seed,\r\n          steps,\r\n          created,\r\n          imageRequestByImageRequestId: { prompt, strength }\r\n        }\r\n      }\r\n    },\r\n    allFile: { nodes: images }\r\n  } = data;\r\n\r\n  const findImage = (uuid) =>\r\n    uuid\r\n      ? getImage(\r\n          images.find((image) => image.relativePath === `${uuid}.png`)\r\n            ?.childImageSharp?.gatsbyImageData\r\n        )\r\n      : {};\r\n\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"Stable Diffusion Image\" description={prompt} />\r\n      <Container className=\"mb-4\">\r\n        <Row>\r\n          <Col xs={12}>\r\n            <h1>\r\n              <Link to=\"/images\">Images</Link> &raquo; {uuid}\r\n            </h1>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col xs={12} sm={6}>\r\n            <h2>Image</h2>\r\n            <GatsbyImage image={findImage(uuid)} />\r\n          </Col>\r\n          <Col xs={12} sm={6}>\r\n            <h2>Prompt</h2>\r\n            <blockquote>{prompt}</blockquote>\r\n            <h2>Parameters</h2>\r\n            <Table striped>\r\n              <thead>\r\n                <tr>\r\n                  <th style={{ width: '35%' }}>Name</th>\r\n                  <th>Value</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Seed</td>\r\n                  <td>{seed}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Steps</td>\r\n                  <td>{steps}</td>\r\n                </tr>\r\n                {strength && (\r\n                  <tr>\r\n                    <td>Strength</td>\r\n                    <td>{strength.toFixed(2)}</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </Table>\r\n            <h2>Created</h2>\r\n            <p title={created}>\r\n              {formatDistanceToNow(addHours(parseISO(created), -6), {\r\n                addSuffix: true\r\n              })}\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nImage.propTypes = {\r\n  data: PropTypes.object.isRequired\r\n};\r\n\r\nexport const query = graphql`\r\n  query ($uuid: String!) {\r\n    postgres {\r\n      imageBoostByUuid(uuid: $uuid) {\r\n        uuid\r\n        imageResultByImageResultId {\r\n          seed\r\n          steps\r\n          created\r\n          imageRequestByImageRequestId {\r\n            strength\r\n            prompt\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    allFile {\r\n      nodes {\r\n        relativePath\r\n        childImageSharp {\r\n          gatsbyImageData(layout: CONSTRAINED, width: 512)\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["Image","data","postgres","imageBoostByUuid","uuid","imageResultByImageResultId","seed","steps","created","imageRequestByImageRequestId","prompt","strength","allFile","nodes","images","title","description","className","xs","Link","to","sm","G","image","getImage","find","relativePath","childImageSharp","gatsbyImageData","findImage","striped","style","width","toFixed","formatDistanceToNow","addHours","parseISO","addSuffix","propTypes","PropTypes"],"sourceRoot":""}